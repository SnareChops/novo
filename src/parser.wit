// Parser interface for WAT compiler
interface parser {
    // Initialize parser with source text
    export init-parser: func(source-ptr: u32, source-len: u32) -> bool

    // Parse source and return root AST node
    export parse-root: func() -> u32

    // Get AST root node
    export get-ast-root: func() -> u32

    // Node inspection functions
    export get-node-type: func(node-id: u32) -> u32
    export get-node-parent: func(node-id: u32) -> u32
}

world parser-component {
    import memory
    import lexer
    export parser
}
